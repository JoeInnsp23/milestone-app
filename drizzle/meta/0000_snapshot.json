{
  "id": "61955470-3e8f-442e-a8c7-5cb25427021a",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "milestone.audit_logs": {
      "name": "audit_logs",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_action": {
          "name": "event_action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_user": {
          "name": "idx_audit_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_created": {
          "name": "idx_audit_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.bills": {
      "name": "bills",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "xero_bill_id": {
          "name": "xero_bill_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "bill_number": {
          "name": "bill_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "reference": {
          "name": "reference",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "build_phase_id": {
          "name": "build_phase_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "bill_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "bill_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "sub_total": {
          "name": "sub_total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_tax": {
          "name": "total_tax",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_due": {
          "name": "amount_due",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "bill_date": {
          "name": "bill_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "fully_paid_date": {
          "name": "fully_paid_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "line_items": {
          "name": "line_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "payments": {
          "name": "payments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "xero_data": {
          "name": "xero_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bills_project": {
          "name": "idx_bills_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bills_phase": {
          "name": "idx_bills_phase",
          "columns": [
            {
              "expression": "build_phase_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bills_date": {
          "name": "idx_bills_date",
          "columns": [
            {
              "expression": "bill_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bills_status": {
          "name": "idx_bills_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bills_proj_date": {
          "name": "idx_bills_proj_date",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bill_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"milestone\".\"bills\".\"status\" IN ('AUTHORISED', 'PAID')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bills_project_id_projects_id_fk": {
          "name": "bills_project_id_projects_id_fk",
          "tableFrom": "bills",
          "tableTo": "projects",
          "schemaTo": "milestone",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bills_build_phase_id_build_phases_id_fk": {
          "name": "bills_build_phase_id_build_phases_id_fk",
          "tableFrom": "bills",
          "tableTo": "build_phases",
          "schemaTo": "milestone",
          "columnsFrom": [
            "build_phase_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bills_xero_bill_id_unique": {
          "name": "bills_xero_bill_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "xero_bill_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.build_phases": {
      "name": "build_phases",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "xero_phase_id": {
          "name": "xero_phase_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_category_id": {
          "name": "tracking_category_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6366f1'"
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "typical_duration_days": {
          "name": "typical_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "build_phases_xero_phase_id_unique": {
          "name": "build_phases_xero_phase_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "xero_phase_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.export_history": {
      "name": "export_history",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "export_type": {
          "name": "export_type",
          "type": "export_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "export_scope": {
          "name": "export_scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "filters_applied": {
          "name": "filters_applied",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rows_exported": {
          "name": "rows_exported",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_export_user": {
          "name": "idx_export_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_export_created": {
          "name": "idx_export_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.invoices": {
      "name": "invoices",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "xero_invoice_id": {
          "name": "xero_invoice_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "build_phase_id": {
          "name": "build_phase_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "invoice_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "invoice_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "line_amount_types": {
          "name": "line_amount_types",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sub_total": {
          "name": "sub_total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_tax": {
          "name": "total_tax",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_due": {
          "name": "amount_due",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_date": {
          "name": "invoice_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "fully_paid_date": {
          "name": "fully_paid_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expected_payment_date": {
          "name": "expected_payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "line_items": {
          "name": "line_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "payments": {
          "name": "payments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "credit_notes": {
          "name": "credit_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "xero_data": {
          "name": "xero_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_invoices_project": {
          "name": "idx_invoices_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_phase": {
          "name": "idx_invoices_phase",
          "columns": [
            {
              "expression": "build_phase_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_date": {
          "name": "idx_invoices_date",
          "columns": [
            {
              "expression": "invoice_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_status": {
          "name": "idx_invoices_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_inv_proj_date": {
          "name": "idx_inv_proj_date",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "invoice_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"milestone\".\"invoices\".\"status\" IN ('AUTHORISED', 'PAID')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoices_project_id_projects_id_fk": {
          "name": "invoices_project_id_projects_id_fk",
          "tableFrom": "invoices",
          "tableTo": "projects",
          "schemaTo": "milestone",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_build_phase_id_build_phases_id_fk": {
          "name": "invoices_build_phase_id_build_phases_id_fk",
          "tableFrom": "invoices",
          "tableTo": "build_phases",
          "schemaTo": "milestone",
          "columnsFrom": [
            "build_phase_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invoices_xero_invoice_id_unique": {
          "name": "invoices_xero_invoice_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "xero_invoice_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.project_estimates": {
      "name": "project_estimates",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "build_phase_id": {
          "name": "build_phase_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "estimate_type": {
          "name": "estimate_type",
          "type": "estimate_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'GBP'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_estimates_project": {
          "name": "idx_estimates_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_estimates_project_phase": {
          "name": "idx_estimates_project_phase",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "build_phase_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ux_estimates_current": {
          "name": "ux_estimates_current",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "estimate_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"milestone\".\"project_estimates\".\"valid_until\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_estimates_project_id_projects_id_fk": {
          "name": "project_estimates_project_id_projects_id_fk",
          "tableFrom": "project_estimates",
          "tableTo": "projects",
          "schemaTo": "milestone",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_estimates_build_phase_id_build_phases_id_fk": {
          "name": "project_estimates_build_phase_id_build_phases_id_fk",
          "tableFrom": "project_estimates",
          "tableTo": "build_phases",
          "schemaTo": "milestone",
          "columnsFrom": [
            "build_phase_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.projects": {
      "name": "projects",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "xero_project_id": {
          "name": "xero_project_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "client_name": {
          "name": "client_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_id": {
          "name": "client_contact_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_category_id": {
          "name": "tracking_category_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "project_manager": {
          "name": "project_manager",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_projects_active": {
          "name": "idx_projects_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_client": {
          "name": "idx_projects_client",
          "columns": [
            {
              "expression": "client_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "projects_xero_project_id_unique": {
          "name": "projects_xero_project_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "xero_project_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.sync_status": {
      "name": "sync_status",
      "schema": "milestone",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "sync_type": {
          "name": "sync_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sync_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "records_processed": {
          "name": "records_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_created": {
          "name": "records_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_updated": {
          "name": "records_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_failed": {
          "name": "records_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sync_status_type": {
          "name": "idx_sync_status_type",
          "columns": [
            {
              "expression": "sync_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "milestone.user_preferences": {
      "name": "user_preferences",
      "schema": "milestone",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "default_view": {
          "name": "default_view",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'dashboard'"
        },
        "theme": {
          "name": "theme",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        },
        "date_format": {
          "name": "date_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'DD/MM/YYYY'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'GBP'"
        },
        "notifications": {
          "name": "notifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"email\":true,\"in_app\":true}'::jsonb"
        },
        "dashboard_layout": {
          "name": "dashboard_layout",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "saved_filters": {
          "name": "saved_filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "favorite_projects": {
          "name": "favorite_projects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.audit_action": {
      "name": "audit_action",
      "schema": "public",
      "values": [
        "CREATE",
        "READ",
        "UPDATE",
        "DELETE",
        "EXPORT"
      ]
    },
    "public.bill_status": {
      "name": "bill_status",
      "schema": "public",
      "values": [
        "DRAFT",
        "SUBMITTED",
        "AUTHORISED",
        "PAID",
        "VOIDED"
      ]
    },
    "public.bill_type": {
      "name": "bill_type",
      "schema": "public",
      "values": [
        "BILL",
        "PURCHASEORDER"
      ]
    },
    "public.estimate_type": {
      "name": "estimate_type",
      "schema": "public",
      "values": [
        "revenue",
        "cost",
        "hours",
        "materials"
      ]
    },
    "public.export_type": {
      "name": "export_type",
      "schema": "public",
      "values": [
        "PDF",
        "EXCEL",
        "CSV"
      ]
    },
    "public.invoice_status": {
      "name": "invoice_status",
      "schema": "public",
      "values": [
        "DRAFT",
        "SUBMITTED",
        "AUTHORISED",
        "PAID",
        "VOIDED"
      ]
    },
    "public.invoice_type": {
      "name": "invoice_type",
      "schema": "public",
      "values": [
        "ACCREC",
        "ACCPAY"
      ]
    },
    "public.sync_status": {
      "name": "sync_status",
      "schema": "public",
      "values": [
        "PENDING",
        "RUNNING",
        "COMPLETED",
        "FAILED"
      ]
    }
  },
  "schemas": {
    "milestone": "milestone"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}